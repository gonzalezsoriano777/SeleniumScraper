webpackJsonp([45],{1722:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(2158),n=a(141),s=a.n(n),r=a(1757),o=a(644);const l={WideHero:i.a};t.controllerViews=l;const c={ContentStore:s.a,StreamHeroStore:r.a,VideoReelStore:o.a};t.stores=c;t.meta={dependencies:["td-ads","tdv2-applet-video-modal"],langBundle:"tdv2-applet-stream-hero"}},1757:function(e,t,a){"use strict";var i=a(27),n=a.n(i),s=a(1768),r=n()({storeName:"StreamHeroStore",statics:{handlers:{POPULATE_STREAM_HERO_FROM_CACHE:"emitChange",POPULATE_STREAM_HERO_SUCCESS:"handleRefreshStreamHeroSuccess",POPULATE_STREAM_HERO_FAILURE:"handleRefreshStreamHeroFailure",POPULATE_STREAM_HERO_LOADING:"handleStreamHeroLoading",UPDATE_STREAM_HERO_CATEGORY:"updatePageCategory"}},initialize:function(){this.pageCategory=void 0,this.data={},this.loadingStatus={}},handleRefreshStreamHeroSuccess:function(e){if(e){var t=e.data;this.loadingStatus[e.category]=!1,this.data[e.category]={articles:t,ts:new Date/1e3}}this.emitChange()},handleStreamHeroLoading:function(e){this.loadingStatus[e.category]=!0,this.emitChange()},handleRefreshStreamHeroFailure:function(e){this.loadingStatus[e.category]=!1,this.emitChange()},isArticleFresh:function(e,t){var a=this.data[e];return!(!a||!t)&&!!(t&&new Date/1e3-a.ts<t)},getArticles:function(e,t,a,i){t=void 0===t||t,a=void 0!==a&&a;var n=this.data[e]||null;if(!n)return null;var r,o,l,c,d,p,m,u,h=n.articles,g=[],f=0;i&&i.leadDimension&&i.moreDimension?(p=i.leadDimension,m=i.moreDimension,u=i.images):i=null;for(var b=0;b<h.length;b++)d=!1,c=!(!(o=h[b]).url&&!o.link),!(l=!(!o.image_assets||!o.image_assets.url))&&i&&(o.imageSize=o.imageSize||{},o.imageSize[p]=Object(s.c)(p,u,f),o.imageSize[m]=Object(s.c)(m,u,f++),d=!0),!o.link&&c&&(o.link=o.url),r||!l&&t&&!d||!c?(l||!a||d)&&c&&g.push(o):r=o;return{lead:r,more:g,ts:n.ts}},getPageCategory:function(){return this.pageCategory},getLoadingStatus:function(e){return this.loadingStatus[e]||!1},updatePageCategory:function(e){this.pageCategory=e},dehydrate:function(){return{pageCategory:this.pageCategory,data:this.data}},rehydrate:function(e){for(var t in this.pageCategory=e.pageCategory,this.data=e.data,this.data)this.data.hasOwnProperty(t)&&(this.data[t].ts=new Date/1e3)}});t.a=r},1768:function(e,t,a){"use strict";t.b=function(e){return e&&(e.id||e.uuid)||""},t.d=function(e,t){return(e=e||{})[t]||e.original},t.c=function(e,t,a){var i=t&&t.length;if(!i)return;var n=a%i;return t[n]&&{tag:e,url:t[n]}},t.e=function(e){var t=e.getStore(r.a),a=t&&t.getPageData();return n()(a,["meta","name","twitter:site"])||n()(a,["meta","property","twitter:site"])||"Yahoo"},t.a=function(e,t,a){var i={ct:l[e.type]||e.type,expb:e.experimentId||0,g:e.uuid||e.id,itc:0,outcm:"content",sec:"superhero",slk:e.title};e.aid&&(i.aid=e.aid);e.mabLogString&&(i.mab_test=e.mabLogString);a&&(i.grpt="roundup",i.sec="strm",i.subsec="needtoknow",i.pkgt="need_to_know");t&&(i=Object.assign({},i,t));return i},t.g=function(e){if(!e)return!1;var t=e.get("isTodayItem");return"true"===t||!0===t||"roundup"===e.getIn(["clusterInfo","type"])},t.i=function(e,t){return Math.floor(t/3)+1>e+1},t.n=function(e,t){var a=t.articleCount-1,i=e&&e.more&&e.more.length||0,n=t.moreItemsModulus||6,s=t.ui.minMoreItems,r=i<n&&i>=s?s:i-i%n;n&&i&&i!==a&&i%n!=0&&e.more.splice(r)},t.h=function(e,t){t instanceof Object&&e&&e.lead&&(e.more.length&&e.more.unshift(e.lead),e.lead=t)},t.m=function(e,t,a,i){var n=(t.ui||{}).video_enabled,s=a.enableVideoReel,r=t.channelName;s&&e&&"reel"===e.subtype&&Object(o.a)(e,i,r);return n&&e&&"video"===e.type},t.f=function(e){if(e.channelId)return{channelId:e.channelId,type:"video"};return e.mediaItem&&e.mediaItem.id?e.mediaItem:{id:e.id,type:"video"}},t.l=function(e){var t=n()(e,["componentConfig","ui","share_buttons"])||{},a=t.enable,i=t.buttons_to_show||[];return a&&i.length>0},t.j=function(e,t){if(!e)return!1;if(e.isTodayItem&&!e.aid)return!1;var a="false"!==e.comments_allowed,i=e.off_network||!1,s=n()(t,["ui","comments_offnet"])||!1;return!(!a||i&&!s||!n()(t,["ui","comments"]))},t.k=function(e){if(!e)return!1;return!!e.showFeedbackLink};var i=a(2),n=a.n(i),s=a(12),r=a.n(s),o=a(1591),l={article:"story"}},1797:function(e,t,a){"use strict";var i=a(0),n=(a.n(i),a(1)),s=a.n(n),r=a(11),o=(a.n(r),a(1563)),l=a.n(o),c=a(78),d=a.n(c),p=a(4),m=a.n(p),u=a(19);class h extends n.PureComponent{constructor(e){super(e);const{count:t}=e;this.state={commentCount:t,commentString:this.getCommentString(t),hover:!1}}getCommentString(e){const{intl:t,showDescription:a}=this.props;if(!e)return a?t.formatMessage({id:"APPLET_COMMENT_START_CONVERSATION"}):"";let i;return i=e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e4?parseFloat((e/1e3).toFixed(1))+"k":t.formatNumber(e),a&&(i+=" "+t.formatMessage({id:"APPLET_COMMENT_COUNT_DESCRIPTION"},{count:e})),i}componentWillMount(){const e=this,t=e.constructor.prototype;(e.props.enableHoverColor||e.props.enableTooltip)&&(e.onMouseEnter=t.onMouseEnter.bind(e),e.onMouseLeave=t.onMouseLeave.bind(e))}onMouseEnter(){this.setState({hover:!0})}onMouseLeave(){this.setState({hover:!1})}renderTooltip(e){const t=this;if(t.props.enableTooltip&&t.state.hover){const a=m()("comment-btn-tooltip Bdc($c-fuji-grey-c) Bds(s) Bdw(1px)","Bdrs(3px) Bgc(#fff) Bxsh(commentTooltipBxsh) C($c-fuji-blue-1-a)","Fz(13px) Lh(14px) Pos(a) Px(14px) Py(8px) Whs(nw) Z(3)",{"Start(0) T(22px)":"down"===e,"B(-3px) End(36px)":"left"===e}),i=t.props.intl.formatMessage({id:"APPLET_COMMENT_COMMENTS"}),n=t.state.commentCount?"APPLET_COMMENT_COMMENTS":"APPLET_COMMENT_START_CONVERSATION";return s.a.createElement("b",{className:a},t.props.intl.formatMessage({id:n,defaultMessage:i}))}}render(){const e=this,t=e.props,{showDescription:a,deepLinkQueryParams:i,display:n,iconSize:o,iconClassName:c,textAlign:p}=t,{commentCount:u,commentString:h}=e.state,g=t.openDirection||(["block","inline-block"].indexOf(n)>=0?"left":"down"),f=e.state.hover?t.hoverIconColor:t.iconColor;let{url:b}=t;if(!b)return null;const v="/"!==b.charAt(0);v&&i&&(b+=(-1===b.indexOf("?")?"?":"&")+i);const y=m()("comment-btn-count",t.stringClassName,"Pos(r)",{"D(b)":"block"===n||"inline-block"===n,"Fz(11px)":"block"===n||"inline-block"===n,"Mend(4px)":"inline"===n&&"left"===p,"Mstart(4px)":"inline"===n&&"right"===p,"Fz(13px)":"inline"===n&&!a,"Fw(b) Fz(11px)":a});let _,k={className:m()("comment-btn-link Pos(r) Cur(p) Va(m) Td(n)",t.className,{"Pb(6px) D(b)":"block"===n,"D(ib)":"inline"===n,"D(ib) Pb(6px)":"inline-block"===n,"desktop_W(100%)":"left"===g}),followLink:v,href:b,i13nModel:Object.assign({},t.i13nModel||t.model,{elm:"cmmt_open",itc:0,pos:1,slk:"comments"}),navParams:Object.assign({},t.navParams,{collapseContent:!0,uuid:t.uuid||""}),target:t.target};return h?(_=s.a.createElement("span",{style:{color:f},className:y},h),k["aria-label"]=(u?h+" ":"")+t.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"})):k["aria-label"]=t.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"}),(t.enableHoverColor||t.enableTooltip)&&(k.onMouseEnter=e.onMouseEnter,k.onMouseLeave=e.onMouseLeave),s.a.createElement(d.a,k,"left"===p||"top"===p?_:null,s.a.createElement(r.Icon,{className:c,asset:l.a,height:o,color:f,style:{position:"relative",top:"1px",margin:"auto",verticalAlign:"middle"}}),"right"===p||"bottom"===p?_:null,e.renderTooltip(g))}}h.defaultProps={className:"",deepLinkQueryParams:"bcmt=1",display:"inline",enableHoverColor:!1,enableTooltip:!1,hoverIconColor:"#188fff",iconClassName:"",iconColor:"#ccc",iconSize:20,showDescription:!1,textAlign:"left",stringClassName:"Fw(b)"},t.a=Object(u.injectIntl)(h)},1798:function(e,t,a){"use strict";t.a=function(e,t,a){var n=t.componentProps||{},r=n.componentConfig||{},l=o()(e,["session","query"])||{},p=r.category,f=r.parentCategory,b=e.getStore(i.a),v=r.subsite,y=u;if(r.use_page_category){var _=b.getPageCategory()||{};if(p=_.category,f=_.parentCategory,!p)return void(a&&a())}var k={batches:r.batches||{},category:l.category||p,parentCategory:l.parentCategory||f,comments:o()(r,["ui","comments"])||!1,count:r.articleCount||4,featured_count:r.featured_count||0,link_out_allowed:r.linkOutAllowed,relative_links:r.relative_links,resizeTag:r.resizeTag,resize:{width:r.resizeWidth||760,height:r.resizeHeight||441,type:r.resizeType||"fill",yOffsetPortrait:10,yOffsetLandscape:30},smart_crop:o()(r,["ui","smart_crop"])||!1,use_mags_nydc:r.use_mags_nydc};if(r.use_content_site){var S=e.getStore(c.a).getCurrentRoute();if(void 0!==S&&S){S=S||{};var C=o()(S,["params","contentSite"])||o()(S,["contentSite"]);C&&(k.site=C)}}if(r.cacheTTL&&b.isArticleFresh(p,r.cacheTTL))return e.dispatch("POPULATE_STREAM_HERO_FROM_CACHE"),a&&a();var E=p;v&&(y=g,E=v);r.useNCP&&r.ncpParams&&(y=h);e.dispatch("POPULATE_STREAM_HERO_LOADING",{category:E}),y(e,{config:r,args:k},function(t,i){if(t||!i)return e.dispatch("POPULATE_STREAM_HERO_FAILURE",{err:t,category:E}),a&&a(t);if("undefined"!=typeof window&&r.prefetch){var o=!!Object(d.getAppIdFromPageConfig)(e);e.executeAction(s.a,{items:i,loadContentAction:o?m.a:void 0,snippets:!0,sourceId:n.id,prefetch:!0})}e.dispatch("POPULATE_STREAM_HERO_SUCCESS",{data:i,category:E}),a&&a()})};var i=a(1757),n=a(1557),s=a.n(n),r=a(2),o=a.n(r),l=a(25),c=a.n(l),d=a(634),p=(a.n(d),a(1552)),m=a.n(p);function u(e,t,a){e.service.read("CommonStreamService",t.args,{},a)}function h(e,t,a){var i=t.config||{},n=o()(e,["session","dimensions"],{}),s={resource:i.ncpParams.resource||"streamView",query:Object.assign({device:n.device,lang:n.lang,mabEnabled:i.mabEnabled||!1,ntkCount:i.articleCount,ntkImageTags:(i.resizeTag||[]).map(function(e){return e.replace("img:","")}).join(","),ntkSnippetCount:i.articleCount,region:n.region,site:t.args.site||n.site,subsite:i.subsite||"home"},i.ncpParams.query)};e.service.read("GenesisNCPService",s,{},function(e,t){var i=t&&t.stream;if(e||!i)return a&&a(e);var n=[];(i.fptoday_items||i.stream_items||[]).forEach(function(e){e.imageSize={},e.image_assets&&(e.image_assets.forEach(function(t){var a="size=original"===t.tag?"original":t.tag;e.imageSize[a]=t}),e.image_assets=e.image_assets[0]),e.cauuid&&e.id&&(e.aid=e.id),e.commentCount=parseInt(e.commentsCount,10)||0,e.uuid=e.cauuid||e.id,e.url=e.link,n.push(e)}),a(null,n)})}function g(e,t,a){var i=t.args,n=t.config,s=i.batches,r=o()(n,["ui","minMoreItems"],0),l={ads:{frequency:0},batches:{size:s.size||0,total:s.total||0},category:i.category,min_count:1,no_ss_pnr_ntk:o()(n,["pnr","no_ss_pnr_ntk"]),parentCategory:i.parentCategory,pnr_package_dest_excl_enabled:o()(n,["pnr","pnr_package_dest_excl_enabled"]),pnr_package_enabled:!0,ss_endpoint:n.ss_endpoint,subsite:n.subsite,ui:{sports_morelink_enabled:n.ui&&n.ui.sports_morelink_enabled||!1,breaking_news:!1,comments:i.comments,editorial_content_count:i.count,editorial_content_min:n.use_all_stream_items?1:r+1,needtoknow_template:o()(n,["ui","needtoknow_template"])||"carousel",relative_links:i.relative_links,roundup:!0,smart_crop:i.smart_crop,storyline_enabled:!0,summary:!0},use_mags_nydc:i.use_mags_nydc};e.service.read("StreamService",l,{},function(e,t){var i=o()(t,["stream_items"]),s=Array.isArray(i)?i[0]:i,l="roundup"===o()(s,["clusterInfo","type"])||o()(s,["isTodayItem"]);if(!e&&(l||n.use_all_stream_items)&&s){var c=[s],d=o()(s,["storyline","length"],0)>=r?s.storyline:[],p=n.use_all_stream_items?d.concat(i.slice(1)):d;Array.isArray(p)&&p.length&&p.forEach(function(e){e.images?(e.imageSize=e.images,e.image_assets=o()(e.images,[Object.keys(e.images)[0]]),delete e.images):e.imageSize={},c.push(e)}),s.imageSize=s.images||{},s.image_assets=o()(s.images,["original"]),delete s.clusterInfo,delete s.images,delete s.storyline,a&&a(e,c)}else a&&a(e)})}},1905:function(e,t,a){"use strict";var i="window.App = window.App || {};window.App.clientInit = window.App.clientInit || {delay: 0};window.App.clientInit.delay = {delay} > window.App.clientInit.delay ? {delay} : window.App.clientInit.delay;";e.exports=function(e){return"number"==typeof e&&i.replace(/\{delay\}/g,e)}},1906:function(e,t,a){"use strict";var i=a(0),n=a.n(i),s=a(1),r=a.n(s),o=a(3),l=a.n(o),c=a(4),d=a.n(c),p=l()({displayName:"FeedbackLink",propTypes:{link:n.a.string,linkShow:n.a.bool},getDefaultProps:function(){return{link:null,linkShow:!1}},render:function(){if(!this.props.link)return null;var e=this.props.linkShow?"Op(1) Trs(opacity) Trs(visibility) Trsdu(.2s) Trsde(.1s) Trstf(ease-out) V(v)":"Op(0) Trs(opacity) Trs(visibility) Trsdu(.1s) Trsde(.1s) Trstf(ease-out) V(h)";return r.a.createElement("div",{className:d()("Fl(end) Pos(a) End(10px) T(14px) Fz(11px) Tsh(0 1px #000) Fw(b) C(#fff) Z(100)",e)},r.a.createElement("a",{className:"Td(n)",href:this.props.link,target:"_blank"},r.a.createElement("img",{className:"H(20px) W(20px) D(ib) Va(m)",src:"https://s.yimg.com/dh/ap/default/161118/feedback-icon.png"}),r.a.createElement("div",{className:"Td(u):h Td(n) D(ib) Va(m) Px(2px) C(#fff)"},"Feedback")))}});t.a=p},1907:function(e,t,a){"use strict";var i={sportsReel:{host:"sportsreel.m.yahoo.com",path:"/channels/personal",timeout:1e3,perfLabel:"VideoReel",query:{team_ids:"",v:"3"},fallbackConfig:{config:{playlist:{mediaItems:[{id:"c183370f-8e21-3bd4-9c77-14330272b32d",meta:{playlist_config:{is_bumper:!0,source:"fallback-sports-reel"},url:"http://sports.yahoo.com/video/sports-reel-unavailable-231408477.html"}}]},expName:"ntkSportsReel",playlistUI:{playlistId:"d55b0230-36c7-11e3-8967-67c7a77559ee"},autoplay:!0}},feedbackLink:"https://yahoo.uservoice.com/forums/599827"},financeReel:{host:"ottr.video.yahoo.com",path:"/v1/channels/finance-web-home-ntk",timeout:1e3,perfLabel:"VideoReel",query:{dev_type:"desktop",symbols:"",portfolio:"",recent_quotes:""},fallbackConfig:{config:{playlist:{mediaItems:[{id:"0e64be63-5eaf-3f02-b3e1-1bf66c662f19",meta:{playlist_config:{is_bumper:!0,source:"fallback-finance-reel"},url:"https://www.yahoo.com/news/-191733994.html"}}]},expName:"ntkSportsReel",playlistUI:{playlistId:"fc5a3ae0-c736-11e3-9f7f-e5b8936e1729"},autoplay:!0}},feedbackLink:"https://yahoo.uservoice.com/forums/599032-yahoo-financereel"},configs:{sports:"sportsReel",finance:"financeReel"}};i.sportsMobileNfl=a(53)({},i.sportsReel,{timeout:2e3,path:"/channels/sports-mobile-nfl",query:{dev_type:"",latitude:"",longitude:"",site:"",team_ids:"",v:"3"},fallbackConfig:{}}),i.sportsMobileHome=a(53)({},i.sportsMobileNfl,{path:"/channels/sports-mobile-hp"}),i.sportsDesktopNCAAB=a(53)({},i.sportsReel,{timeout:2e3,path:"/channels/sports-desktop-ncaab",query:{dev_type:"",site:"",team_ids:"",v:"3"}}),i.sportsMobileNCAAB=a(53)({},i.sportsDesktopNCAAB,{path:"/channels/sports-mobile-ncaab"}),i.sportsDesktopMLB=a(53)({},i.sportsReel,{timeout:2e3,path:"/channels/sports-desktop-mlb",query:{dev_type:"",site:"",team_ids:"",v:"3"}}),i.sportsMobileMLB=a(53)({},i.sportsDesktopMLB,{path:"/channels/sports-mobile-mlb"}),i.sportsDesktopNFL=a(53)({},i.sportsReel,{timeout:2e3,path:"/channels/sports-desktop-nfl",query:{dev_type:"",site:"",team_ids:"",v:"3"}}),i.sportsMobileNFL=a(53)({},i.sportsDesktopNFL,{path:"/channels/sports-mobile-nfl"}),e.exports=i},2158:function(e,t,a){"use strict";var i=a(1557),n=a.n(i),s=a(4),r=a.n(s),o=a(20),l=a(33),c=a.n(l),d=a(1610),p=a.n(d),m=a(19),u=a(2),h=a.n(u),g=a(142),f=a(5),b=a.n(f),v=a(1798),y=a(78),_=a.n(y),k=a(1585),S=a.n(k),C=a(0),E=a.n(C),x=a(1),P=a.n(x),M=a(3),O=a.n(M),I=a(1757),T=a(1567),L=a(644),N=a(634),w=a(1552),A=a.n(w),F=a(1768),R=a(1591),j=O()({displayName:"VideoInfo",propTypes:{videoItem:E.a.object,adPlaying:E.a.bool,title:E.a.string,description:E.a.string},getDefaultProps:function(){return{videoItem:null,adPlaying:!1,title:"",description:""}},render:function(){var e=this.props;if(e.adPlaying||e.videoItem&&e.videoItem.isBumper){var t=e.videoItem&&e.videoItem.lastBumper?P.a.createElement(m.FormattedMessage,{id:"THANKS_FOR_WATCHING"}):P.a.createElement(m.FormattedMessage,{id:"COMING_UP_NEXT"}),a=e.videoItem&&e.videoItem.nextTitle||"";return P.a.createElement("div",{className:"Px(22px)"},P.a.createElement("span",{className:"Fw(700) Fz(12px) Op(0.8) My(15px) Wow(n)"},t),P.a.createElement("h2",{className:"Fz(22px) Lh(26px) Fw(b) LineClamp(3,78px) LineClamp(2,52px)--md1100"},a))}var i=e.videoItem&&e.videoItem.title||e.title,n=e.videoItem&&e.videoItem.description||e.description;return P.a.createElement("div",{className:"Px(22px)"},P.a.createElement("h2",{className:"Fz(22px) Lh(26px) Fw(b) LineClamp(3,78px) LineClamp(2,52px)--md1100 W(100%)"},i),P.a.createElement("p",{className:"Fz(12px) Lh(14px) My(10px) LineClamp(5,70px) LineClamp(3,42px)--md1100"},n))}}),B=O()({displayName:"ReelRightPanel",propTypes:{channelName:E.a.string,currentVideoId:E.a.string,reelStore:E.a.any,site:E.a.string},getDefaultProps:function(){return{currentVideoId:null,reelStore:null,site:"finance"}},getInitialState:function(){return{currentVideoId:this.props.currentVideoId,isAdPlaying:!1,videoTitle:"",videoDescription:""}},shouldComponentUpdate:function(e,t){return t.currentVideoId!==this.state.currentVideoId||t.isAdPlaying!==this.state.isAdPlaying||t.videoTitle!==this.state.videoTitle||t.videoDescription!==this.state.videoDescription},render:function(){var e=Object(R.d)(this.state.currentVideoId,this.props.reelStore,this.props.channelName);return e?P.a.createElement(j,{videoItem:e,adPlaying:this.state.isAdPlaying}):P.a.createElement(j,{title:this.state.videoTitle,description:this.state.videoDescription,adPlaying:this.state.isAdPlaying})}}),z=a(1797),D=a(650),H=a(1579),W=a(1905),V=a.n(W),U=a(1906),q=a(1907),$=a.n(q),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},J=Object(o.createI13nNode)(D.ShareButtonMenu),X=O()({autobind:!1,displayName:"WideHero",mixins:[c.a,p.a],contextTypes:{session:E.a.object.isRequired},statics:{storeListeners:[I.a],initializeAction:v.a},propTypes:{config:E.a.object,componentConfig:E.a.object.isRequired,data:E.a.object,id:E.a.string},getInitialState:function(){var e=this.state||{},t=Object(F.g)(this.props.data),a=this.props.componentConfig,i=a.category||null;(this.streamHeroStore=this.getStore(I.a),this.reelStore=this.getStore(L.a),a.subsite&&(i=a.subsite),a.use_page_category)&&(i=(this.streamHeroStore.getPageCategory()||{}).category);var n,s,r=this.getArticles(i,this.props.data),o="reel"===h()(r,["lead","subtype"]);if(this.site=h()(this.context,["session","dimensions","site"]),o&&Object(F.k)(a)){var l=h()($.a,["configs",this.site]);n=h()($.a,[l,"feedbackLink"]),s=!0}return{articles:this.getArticles(i,this.props.data),category:i,feedbackLink:n,feedbackLinkShow:s,isStreamRoundup:t,page:1,pageHeight:e.pageHeight||0,pageSize:e.pageSize||null,resizing:!1}},onChange:function(){if(!this.state.isStreamRoundup){var e=this.getInitialState();h()(e,["articles","ts"])!==h()(this.state,["articles","ts"])&&this.setState(e)}},getDefaultProps:function(){return{config:{},componentConfig:{},data:b.a.Map()}},componentDidMount:function(){if(!this.state.isStreamRoundup&&this.props.componentConfig.prefetch&&this.state.articles){var e=[this.state.articles.lead].concat(this.state.articles.more),t=!!Object(N.getAppIdFromPageConfig)(this);this.executeAction(n.a,{items:e,loadContentAction:t?A.a:void 0,prefetch:!0,snippets:!0,sourceId:this.props.id})}},componentWillMount:function(){this.showFeedbackLink=this.constructor.prototype.showFeedbackLink.bind(this),this.hideFeedbackLink=this.constructor.prototype.hideFeedbackLink.bind(this),this.onPlaybackStart=this.constructor.prototype.onPlaybackStart.bind(this),this.onAdPlaybackStart=this.constructor.prototype.onAdPlaybackStart.bind(this)},componentWillReceiveProps:function(e){var t=Object(F.g)(e.data),a=e.config&&Object.keys(e.config).length||e.componentConfig||{},i=this.state.category,n=a.category;a.use_page_category&&(n=(this.streamHeroStore.getPageCategory()||{}).category);a.subsite&&(n=a.subsite),n===i&&this.state.isStreamRoundup===t||this.setState({articles:this.getArticles(n,e.data),category:n,isStreamRoundup:t,page:1,resizing:!1})},shouldComponentUpdate:function(e,t){if(this.state.feedbackLinkShow!==t.feedbackLinkShow)return!0;if(this.state.category!==t.category)return!0;var a=this.state.articles,i=t.articles;return a&&i?Object(F.b)(a.lead)!==Object(F.b)(i.lead)||t.page!==this.state.page||t.pageSize!==this.state.pageSize||t.pageHeight!==this.state.pageHeight:!(!a&&!i)},getArticles:function(e,t){var a,i=this.props.componentConfig,n=this.context.session.isLightWeightBrowser?null:h()(i,["ui","lead"]);if(t&&Object(F.g)(t))a=this.processStreamData(t);else if(e){var s;i.enableFallbackImages&&i.fallbackImages.length&&(s={images:i.fallbackImages,leadDimension:i.leadDimension,moreDimension:i.moreDimension}),a=this.streamHeroStore.getArticles(e,!0,!0,s)}return n&&Object(F.h)(a,n),i.mock_video_id&&(a.lead.type="video",a.lead.id=i.mock_video_id,a.lead.uuid=i.mock_video_id),a},processStreamData:function(e){e=e||this.props.data;var t=this.props.componentConfig,a=e&&e.toJS(),i=a&&a.images,n=a&&a.storyline||[],s=[],r=0;if(i&&n)return n.forEach(function(e,a){e.imageSize=e.images;var i=[].concat(t.fallbackImages||[]);(!e.images||0===Object.keys(e.images).length)&&t.enableFallbackImages&&i.length>0&&(e.imageSize={},e.imageSize[t.leadDimension]=Object(F.c)(t.leadDimension,i,r++),e.imageSize[t.moreDimension]=Object(F.c)(t.moreDimension,i,r++)),s.push(e)}),a.imageSize=i,{lead:a,more:s}},renderImage:function(e,t,a,i){var n=Object(F.d)(e.imageSize,t);return n?P.a.createElement(g.Img,{tabIndex:"-1",alt:e.title,className:r()("W(100%) wideHeroImg",i),forceLoad:!0,url:n.url}):null},renderLeadStyle:function(e,t,a,i,n,s,o){var l=r()("Td(n) Pos(a) End(0) T(0) B(0)",{"C(#fff) C(#fff):h":!a||!s,"Bgc($c-fuji-grey-a) C(#000) C(#000):h":a&&s,"W(2/5) ie-10_Bgc($c-fuji-grey-a) ie-10_C(#000) ie-10_C(#000):h ie-11_Bgc($c-fuji-grey-a) ie-11_C(#000) ie-11_C(#000):h failsafe_Bgc($c-fuji-grey-a) failsafe_C(#000) failsafe_C(#000):h":s}),c=P.a.createElement("h2",{className:r()("Td(u):h Mb(13px)",{"Fz(23px)--miw1100 Fz(18px) LineClamp(4,5.3em) Lh(1.15)":s,"Fz(38px) Fz(32px)--md1100 LineClamp(2,80px) Lh(40px) W(40%)":n})},e.title),d=P.a.createElement(B,{ref:"rightPanel",channelName:this.props.componentConfig.channelName,currentVideoId:e.id,reelStore:this.reelStore,site:this.site});return P.a.createElement("div",{className:l},P.a.createElement("div",{className:r()("P(20px)",{"Pstart(27px) P(35px)--miw1200 Pstart(42px)--miw1200":!o,"Pstart(20px) Pstart(22px)--miw1200":o})},o?d:c,o?null:t))},renderLeadArticle:function(){var e=this.props.componentConfig,t=e.ui||{},a=this.props.config,i=this.context.session.getResolvedAssetUrl,n=this.context.session.isLightWeightBrowser,s=e.leadDimension,o=this.state.articles&&this.state.articles.lead||{},l="reel"===o.subtype,c=o.link||o.url||"",d="overlay"===t.meta_pos,p="right"===t.meta_pos,u=o.images||o.imageSize||{},g=(Object(F.d)(u,s)||{}).url||"",f=Object(F.m)(o,e,a,this.reelStore);if(g&&i&&(g=i(g)),!(f||c&&g))return null;var b,v="url("+g+")",y=r()("Mih(215px) Mih(277px)--miw1200",{"Mah(400px)":!p}),k=r()("Pos(a) T(0) B(0) End(0) Cnt(n) Bdrs(wideHeroImgFilterBorderRadius)",{"Bgc(wideHeroImgFilterColor) Start(60%) Mstart(1%)":p,"Start(0)":!p}),C=r()("StretchedBox Bgr(nr) Bgz(cv) Fil(blurImage) Blur(30px) Scale(1.5) ScaleX(-1) Bgp(end_c)",{"Op(0.6)":p,"Op(0.2)":!p,"ie-11_Bgi(n) ie-10_Bgi(n) failsafe_Bgi(n)":!n&&p,"Bgi(n)":n&&p}),E=r()("Bgr(nr) Bgp(c) O(n):f Bgz(cv) D(b) C(white) Td(n) Ov(h) Op(0.9):h Op(0.9):f Ov(v):h Ov(v):f",{"Bdrststart(2px) Bdrsbstart(2px) W(61%)":p,"W(100%)":!p}),x=r()("Pos(a) Ov(h) T(0) B(0) End(0) Bdrstend(2px) Bdrsbend(2px)",{"Start(3/5) Mstart(1%)":p,"Start(0)":!p}),M=h()(this.props,["navParams","itemI13n"]),O={followLink:!!o.bypassModal||"/"!==c.charAt(0),href:c,navParams:{itemI13n:M,relatedUuids:this.getRelatedUuids().slice(1)}},I=e.showSummary&&o.summary,T=o.more_link_text||P.a.createElement(m.FormattedMessage,{id:"READ_MORE"});I&&T&&(b=P.a.createElement("div",null,P.a.createElement("p",{className:r()("M(0) Mb(5px)",{"W(40%) Fz(20px) Fz(16px)--md1100 LineClamp(2,60px) Lh(30px) Lh(22px)--md1100":d,"LineClamp(4,5.3em) LineClamp(2,2.6em)--md1100 Lh(1.35)":p})},I),p?P.a.createElement("span",{className:"Fw(b) Td(u):h"},T," Â»"):null));var L=P.a.createElement("div",{className:x},P.a.createElement("div",{className:C,style:{backgroundImage:v}})),N=this.renderLeadStyle(o,b,n,O,d,p,l),w=P.a.createElement(_.a,G({i13nModel:Object(F.a)(o,{cpos:1,elm:"img",pos:1},this.state.isStreamRoundup)},O),L,N);if(!n&&f)return P.a.createElement("div",{className:"Pos(r)"},P.a.createElement("div",{className:E},P.a.createElement("div",{className:k}),this.renderVideoLead(),l?L:null,l?N:w),this.renderButtons(d,p,n));var A=h()(e,["ui","prerender"],{}),R=r()("Pos(r) Fil(ntkImgFilterHover):h failsafe_Fil(n) ie-10_Fil(n) ie-11_Fil(n)",{"Fil(n)":n&&p});return P.a.createElement(S.a,G({className:R,nodeName:"div",payload:{url:c,itemI13n:M}},A),P.a.createElement(_.a,G({className:E,i13nModel:Object(F.a)(o,{cpos:1,elm:"img",pos:1},this.state.isStreamRoundup)},O),P.a.createElement("div",{className:k}),this.renderImage(o,s,t.leadRatio||56.3,y),P.a.createElement("div",{className:x},P.a.createElement("div",{className:C,style:{backgroundImage:v}})),this.renderLeadStyle(o,b,n,O,d,p,l)),n?void 0:this.renderButtons(d,p,n))},renderVideoLead:function(){var e=this.props.componentConfig||{},t=e.ui||{},a=h()(this.state,["articles","lead"]),i=e.leadDimension||null,n=Object(F.b)(a),s=Object(F.f)(a),r=t.video_config||{},o="reel"===a.subtype,l="right"===t.meta_pos?"Mih(215px) Mih(277px)--miw1200":"Mih(215px) Mih(277px)--miw1200 Mah(400px)",c=e.expName;o&&e.reelExpName&&(c=e.reelExpName);var d={autoplay:t.video_autoplay_enabled||!1,channelName:e.channelName,clickParams:Object(F.a)(a,{cpos:1,pos:1},this.state.isStreamRoundup),customConfig:{rank:50},detachable:!1,displayMarkers:this.props.config.displayMarkers,enableAd:r.enableAd,expName:c||"ntk",geminiSectionId:r.geminiSectionId,hidePlaylist:!0,preReactPlayerInit:r.preReactPlayerInit,mediaItem:s,moduleId:"ntk-"+n,showTitleOnStart:"standard",startscreen:{showDesc:!1,showProvider:!1,showTitle:!1},videoOnly:!0,video_reel:o,watchHistoryEnabled:o&&this.props.config.enableWatchHistory,ccOnMute:o||this.props.config.enableCCOnMute},p=!!r.renderOnServer;a.channelId?(d.channelId=a.channelId,d.videoOnly=!1,p=!1):d.videoId=n,a.video_playlist_id&&(d.playlistId=a.video_playlist_id),p&&h()(a,["imageSize",i])&&(d.cover=P.a.createElement("div",null,P.a.createElement("h2",{className:"W(100%) Bdrs(2px)"},a.title),this.renderImage(a,i,t.leadRatio||56.3,l))),r&&Object.assign(d,r,{renderOnServer:p});var m,u,g,f=e.clientDelayOnVideo,b=f&&V()(f)||null;return o&&(Object(F.k)(e)&&(m=P.a.createElement(U.a,{link:this.state.feedbackLink,linkShow:this.state.feedbackLinkShow}),u=this.showFeedbackLink,g=this.hideFeedbackLink),d.onPlaybackStart=this.onPlaybackStart,d.onAdPlaybackStart=this.onAdPlaybackStart),P.a.createElement("div",{className:"Pos(r)",onMouseEnter:u,onMouseLeave:g},b&&P.a.createElement("script",{dangerouslySetInnerHTML:{__html:b}}),m,P.a.createElement(H.default,d))},renderButtons:function(e,t,a){var i=r()({"failsafe_Fill(#959595) ie-10_Fill(#959595) ie-11_Fill(#959595)":!a&&t}),n=r()({"failsafe_Fill($c-fuji-blue-1-a):h ie-10_Fill($c-fuji-blue-1-a):h ie-11_Fill($c-fuji-blue-1-a):h":!a&&t});return P.a.createElement("div",{className:r()("Pos(a) Pb(0) Pstart(8px) Pb(16px)--miw1200 Pstart(22px)--miw1200 B(0) End(0) C(#fff) Bxz(bb)",{"W(2/5)":t,"W(100%)":e}),"data-test-locator":"streamhero-actions"},P.a.createElement("div",{className:"Whs(nw) Mstart(20px) Pt(8px) Pb(10px)"},this.renderShareButtonMenu(n+" "+i),this.renderComment(a,t,i)))},renderComment:function(e,t,a){var i=this.props.componentConfig,n=this.state.articles.lead,s=r()("comment-btn-link:h_C($c-fuji-blue-1-a)",{"failsafe_C(#959595) ie-10_C(#959595) ie-11_C(#959595)":!e&&t}),o=r()("comment-btn-link:h_Fill($c-fuji-blue-1-a)",a);if(i&&n&&Object(F.j)(n,i)){var l={config:i,count:n.commentCount,display:"inline",enableHoverColor:!0,enableTooltip:!1,iconColor:"#fff",iconSize:20,model:Object(F.a)(n,{elm:"btn",itc:0,slk:"cmmt"},this.state.isStreamRoundup),navParams:{relatedUuids:this.getRelatedUuids().slice(1)},showDescription:!0,iconClassName:o,stringClassName:s,textAlign:"right",url:n.link||n.url,uuid:Object(F.b)(n)};return P.a.createElement(z.a,l)}},renderShareButtonMenu:function(e){if(Object(F.l)(this.props)){var t=this.state.articles&&this.state.articles.lead||{},a=(this.props.componentConfig.ui||{}).share_buttons||{},i=this.getSharingMetadata();return i.buttonsToShow=b.a.fromJS(a.buttons_to_show),i.className="Mend(14px) Mend(20px)--miw1200 Va(m) Z(1)",i.color="#fff",i.isTouchDevice=h()(this.props.config,["ui","touch_device"]),i.openButtonIconClassName=e,i.openButtonClassName="M(0) P(0) B(0)",i.openButtonColor="#fff",i.openDirection="up",i.offsetAlignX=-58,i.mailHost=a.mail_host,i.model=this.state.model,i.twitterId=Object(F.e)(this.context),i.ylkData=Object(F.a)(t,{bpos:1,cpos:1},this.state.isStreamRoundup),P.a.createElement(J,i)}},getSharingMetadata:function(){var e=this.state.articles.lead;return{description:e.summary||e.description,imageUrl:h()(e,["images","original","url"]),title:e.title||"",url:e.link||e.url||"",uuid:Object(F.b)(e)}},renderArticle:function(e,t,a,i){if(!e)return null;var n=this.props.componentConfig||{},s=n.ui||{},o=this.state,l="reel"===e.subtype&&Object(F.m)(e,n,this.props.config,this.reelStore),c=e.link||e.url,d=Object(F.b)(e),p=i.filter(function(e){return e!==d}),u=e.title,g=h()(n,["ui","prerender"],{});l&&(e.imageSize["img:reel"]&&e.imageSize["img:reel"].url&&(a="img:reel"),o.isMounted||(c="javascript:",u=P.a.createElement(m.FormattedMessage,{id:"LOADING_"+this.site.toUpperCase()+"REEL"})));var f=h()(this.props,["navParams","itemI13n"]),b={followLink:!!e.bypassModal||"/"!==c.charAt(0),href:c,navParams:{itemI13n:f,relatedUuids:p,isReel:l,channelName:n.channelName}},v="video"===e.type||"video"===e.subtype?P.a.createElement(T.TypeIcon,{iconSize:12,orbSize:30,magazineFormat:!1,type:"video"}):null,y=r()("W(1/5) Whs(n) Va(t) D(ib) Lts(0) Bdend(none)",{"ie-7_Pend(4px)":5!==t});return P.a.createElement(S.a,G({className:y,key:`stream-WideHero-${t}`,nodeName:"li",payload:{url:c,itemI13n:f}},g),P.a.createElement(_.a,G({className:"D(b) Mend(9px) O(n):f Op(0.9):h Op(0.9):f Td(n) W(a) Trs(footerTrans) Fil(ntkImgFilterHover):h C($c-fuji-blue-4-b) C(ntkLinkBlue):h C(ntkLinkBlue):f",i13nModel:Object(F.a)(e,{cpos:1,elm:"img",pos:t},this.state.isStreamRoundup)},b),P.a.createElement("div",{className:"Pos(r)"},this.renderImage(e,a,s.moreRatio||null,"Mih(56px) Mih(73px)--miw1200 Bdrs(2px) Bdrststart(2px) Bdrsbstart(2px)"),v),P.a.createElement("h3",{className:"M(0) Mend(9px) Mt(4px) Fz(12px) LineClamp(2,2.6em) LineClamp(3,4em)--md1100 T(70%) Start(2px) Td(u):h"},u)))},renderArticles:function(){var e,t=this.props.componentConfig.moreDimension,a=this.state.articles&&this.state.articles.more,i=[];if((a=a||[]).length<5)return null;for(var n=0;n<5;n++)e=this.getRelatedUuids(n),i.push(this.renderArticle(a[n],n+2,t,e));return P.a.createElement("ul",{className:"Whs(nw) Mt(9px) Mend(-9px) Lts(-3em)",key:"streamhero-articles"},i)},getRelatedUuids:function(e){var t=[],a=this.state.articles||{},i=a.more||[],n=a.lead||{},s=Object(F.b)(n);s&&"reel"!==n.subtype&&t.push(s);for(var r=0;r<5;r++)if(r!==e){var o=i[r]||{};if("reel"!==o.subtype){var l=Object(F.b)(o);l&&t.push(l)}}return t},render:function(){var e=this.renderLeadArticle(),t=h()(this.state,["articles","more","length"]);if(!e)return null;var a=t?this.renderArticles():void 0;return P.a.createElement("div",{id:this.props.id,className:"W(100%) Pb(12px) Bxz(bb) Wow(bw)","data-test-locator":"streamhero"},e,a)},showFeedbackLink:function(){this.setState({feedbackLinkShow:!0})},hideFeedbackLink:function(){this.setState({feedbackLinkShow:!1})},onPlaybackStart:function(e){var t=this;t.state.feedbackLink&&(t.hideFeedbackLinkTimer&&clearTimeout(t.hideFeedbackLinkTimer),t.showFeedbackLink(),t.hideFeedbackLinkTimer=setTimeout(function(){t.hideFeedbackLink(),t.hideFeedbackLinkTimer=null},6e3)),e&&this.refs.rightPanel.setState({currentVideoId:"string"==typeof e?e:e.videoId,isAdPlaying:!1})},onAdPlaybackStart:function(){this.refs.rightPanel.setState({isAdPlaying:!0})}});t.a=X}});